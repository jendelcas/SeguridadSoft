<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_212) on Thu Dec 23 11:31:23 GMT 2021 -->
<title>OrderMgrIf (KonaKart Server Engine API Documentation)</title>
<meta name="date" content="2021-12-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OrderMgrIf (KonaKart Server Engine API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakart/blif/MultiStoreMgrIf.html" title="interface in com.konakart.blif"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/konakart/blif/OrderTotalMgrIf.html" title="interface in com.konakart.blif"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakart/blif/OrderMgrIf.html" target="_top">Frames</a></li>
<li><a href="OrderMgrIf.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.konakart.blif</div>
<h2 title="Interface OrderMgrIf" class="title">Interface OrderMgrIf</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/konakart/bl/OrderMgr.html" title="class in com.konakart.bl">OrderMgr</a>, <a href="../../../com/konakart/bl/OrderMgrEE.html" title="class in com.konakart.bl">OrderMgrEE</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">OrderMgrIf</span></pre>
<div class="block">OrderMgrIf
 
 Interface which an implementation of this manager must adhere to.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#changeDeliveryAddress-java.lang.String-com.konakart.appif.OrderIf-com.konakart.appif.AddressIf-">changeDeliveryAddress</a></span>(java.lang.String&nbsp;sessionId,
                     <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order,
                     <a href="../../../com/konakart/appif/AddressIf.html" title="interface in com.konakart.appif">AddressIf</a>&nbsp;deliveryAddress)</code>
<div class="block">The current delivery address is substituted with the new one.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#changeOrderStatus-int-int-boolean-java.lang.String-">changeOrderStatus</a></span>(int&nbsp;orderId,
                 int&nbsp;status,
                 boolean&nbsp;customerNotified,
                 java.lang.String&nbsp;comments)</code>
<div class="block">The state of the current order id changed and an orders_status_history record is added to the
 order to keep track of the change.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#changeOrderStatus-java.lang.String-int-int-boolean-java.lang.String-">changeOrderStatus</a></span>(java.lang.String&nbsp;sessionId,
                 int&nbsp;orderId,
                 int&nbsp;status,
                 boolean&nbsp;customerNotified,
                 java.lang.String&nbsp;comments)</code>
<div class="block">The state of the current order id changed and an orders_status_history record is added to the
 order to keep track of the change.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#createAndSaveOrder-java.lang.String-java.lang.String-com.konakart.appif.CustomerRegistrationIf-com.konakart.appif.BasketIf:A-java.lang.String-java.lang.String-int-">createAndSaveOrder</a></span>(java.lang.String&nbsp;emailAddr,
                  java.lang.String&nbsp;password,
                  <a href="../../../com/konakart/appif/CustomerRegistrationIf.html" title="interface in com.konakart.appif">CustomerRegistrationIf</a>&nbsp;custReg,
                  <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
                  java.lang.String&nbsp;shippingModule,
                  java.lang.String&nbsp;paymentModule,
                  int&nbsp;languageId)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#createOrder-java.lang.String-com.konakart.appif.BasketIf:A-int-">createOrder</a></span>(java.lang.String&nbsp;sessionId,
           <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
           int&nbsp;languageId)</code>
<div class="block">An order object is returned with all addresses populated with the default address of the
 customer referenced by the session Id.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#createOrderWithOptions-java.lang.String-com.konakart.appif.BasketIf:A-com.konakart.appif.CreateOrderOptionsIf-int-">createOrderWithOptions</a></span>(java.lang.String&nbsp;sessionId,
                      <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
                      <a href="../../../com/konakart/appif/CreateOrderOptionsIf.html" title="interface in com.konakart.appif">CreateOrderOptionsIf</a>&nbsp;options,
                      int&nbsp;languageId)</code>
<div class="block">An order object is returned with all addresses populated with the default address of the
 customer referenced by the session Id.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#deleteOrderIdForSecretKey-java.lang.String-">deleteOrderIdForSecretKey</a></span>(java.lang.String&nbsp;secretKey)</code>
<div class="block">The order id stored in the database and indexed by the secretKey, is deleted</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#escapeOrder-com.konakart.appif.OrderIf-">escapeOrder</a></span>(<a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order)</code>
<div class="block">Escape the Strings in the Order object using the rules defined in the properties file by
 the property konakart.escape.chars .</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/OrderStatus.html" title="class in com.konakart.app">OrderStatus</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getAllOrderStatuses-int-">getAllOrderStatuses</a></span>(int&nbsp;languageId)</code>
<div class="block">Returns an array of Order Status objects for a given language</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/IpnHistory.html" title="class in com.konakart.app">IpnHistory</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getIpnHistory-int-">getIpnHistory</a></span>(int&nbsp;orderId)</code>
<div class="block">Retrieve an array of IpnHistory objects for an order.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/IpnHistory.html" title="class in com.konakart.app">IpnHistory</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getIpnHistory-java.lang.String-int-">getIpnHistory</a></span>(java.lang.String&nbsp;sessionId,
             int&nbsp;orderId)</code>
<div class="block">Retrieve an array of IpnHistory objects for an order.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrder-java.lang.String-int-int-">getOrder</a></span>(java.lang.String&nbsp;sessionId,
        int&nbsp;orderId,
        int&nbsp;languageId)</code>
<div class="block">Retrieve an order for the customer referenced by the sessionId.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrderForOrderId-int-int-">getOrderForOrderId</a></span>(int&nbsp;orderId,
                  int&nbsp;languageId)</code>
<div class="block">Retrieve an order for an orderId.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrderIdFromSecretKey-java.lang.String-">getOrderIdFromSecretKey</a></span>(java.lang.String&nbsp;secretKey)</code>
<div class="block">The order id stored in the database and indexed by the secretKey, is returned</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrdersPerCustomer-com.konakart.appif.DataDescriptorIf-java.lang.String-int-">getOrdersPerCustomer</a></span>(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                    java.lang.String&nbsp;sessionId,
                    int&nbsp;languageId)</code>
<div class="block">Retrieve a number of orders for the customer referenced by the sessionId.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrdersPerCustomerWithOptions-com.konakart.appif.DataDescriptorIf-java.lang.String-int-com.konakart.appif.FetchOrderOptionsIf-">getOrdersPerCustomerWithOptions</a></span>(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescIn,
                               java.lang.String&nbsp;sessionId,
                               int&nbsp;languageId,
                               <a href="../../../com/konakart/appif/FetchOrderOptionsIf.html" title="interface in com.konakart.appif">FetchOrderOptionsIf</a>&nbsp;options)</code>
<div class="block">Retrieve a number of orders for the customer referenced by the sessionId.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrderStatus-java.lang.String-int-">getOrderStatus</a></span>(java.lang.String&nbsp;sessionId,
              int&nbsp;orderId)</code>
<div class="block">Get the order status for an order.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getOrderWithOptions-java.lang.String-int-int-com.konakart.appif.FetchOrderOptionsIf-">getOrderWithOptions</a></span>(java.lang.String&nbsp;sessionId,
                   int&nbsp;orderId,
                   int&nbsp;languageId,
                   <a href="../../../com/konakart/appif/FetchOrderOptionsIf.html" title="interface in com.konakart.appif">FetchOrderOptionsIf</a>&nbsp;options)</code>
<div class="block">Retrieve an order for the customer referenced by the sessionId.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getSecretKeyForOrderId-int-">getSecretKeyForOrderId</a></span>(int&nbsp;orderId)</code>
<div class="block">Every time we send a notification to a payment gateway, we get a new secret key for the
 order, which is sent back to us in the reply.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getStatusText-int-int-">getStatusText</a></span>(int&nbsp;statusId,
             int&nbsp;languageId)</code>
<div class="block">Returns the text of a status from the orders_status table</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/TaxRate.html" title="class in com.konakart.app">TaxRate</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#getTaxRateObjectsPerOrder-com.konakart.app.Order-">getTaxRateObjectsPerOrder</a></span>(<a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;order)</code>
<div class="block">Returns a list of TaxRate objects used by this order.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#refreshConfigs--">refreshConfigs</a></span>()</code>
<div class="block">Refresh the configuration of the order manager</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#saveIpnHistory-java.lang.String-com.konakart.appif.IpnHistoryIf-">saveIpnHistory</a></span>(java.lang.String&nbsp;sessionId,
              <a href="../../../com/konakart/appif/IpnHistoryIf.html" title="interface in com.konakart.appif">IpnHistoryIf</a>&nbsp;ipnHistory)</code>
<div class="block">The IpnHistory object is saved in the database.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#saveOrder-java.lang.String-com.konakart.appif.OrderIf-int-">saveOrder</a></span>(java.lang.String&nbsp;sessionId,
         <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order,
         int&nbsp;languageId)</code>
<div class="block">A new order is created in the DB.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#saveOrderWithOptions-java.lang.String-com.konakart.appif.OrderIf-int-com.konakart.appif.SaveOrderOptionsIf-">saveOrderWithOptions</a></span>(java.lang.String&nbsp;sessionId,
                    <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;orderToSave,
                    int&nbsp;languageId,
                    <a href="../../../com/konakart/appif/SaveOrderOptionsIf.html" title="interface in com.konakart.appif">SaveOrderOptionsIf</a>&nbsp;options)</code>
<div class="block">A new order is created in the DB.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#searchForOrdersPerCustomer-int-com.konakart.appif.DataDescriptorIf-com.konakart.appif.OrderSearchIf-int-">searchForOrdersPerCustomer</a></span>(int&nbsp;customerId,
                          <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                          <a href="../../../com/konakart/appif/OrderSearchIf.html" title="interface in com.konakart.appif">OrderSearchIf</a>&nbsp;orderSearch,
                          int&nbsp;languageId)</code>
<div class="block">Return orders matching the search criteria.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#searchForOrdersPerCustomer-java.lang.String-com.konakart.appif.DataDescriptorIf-com.konakart.appif.OrderSearchIf-int-">searchForOrdersPerCustomer</a></span>(java.lang.String&nbsp;sessionId,
                          <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                          <a href="../../../com/konakart/appif/OrderSearchIf.html" title="interface in com.konakart.appif">OrderSearchIf</a>&nbsp;orderSearch,
                          int&nbsp;languageId)</code>
<div class="block">Return orders matching the search criteria.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#setCreditCardDetailsOnOrder-java.lang.String-int-com.konakart.appif.CreditCardIf-">setCreditCardDetailsOnOrder</a></span>(java.lang.String&nbsp;sessionId,
                           int&nbsp;orderId,
                           <a href="../../../com/konakart/appif/CreditCardIf.html" title="interface in com.konakart.appif">CreditCardIf</a>&nbsp;card)</code>
<div class="block">The credit card details in the CreditCard object passed in as a parameter, are saved in the
 database for an existing order.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#setRewardPointReservationId-int-int-int-">setRewardPointReservationId</a></span>(int&nbsp;customerId,
                           int&nbsp;orderId,
                           int&nbsp;reservationId)</code>
<div class="block">Verifies that the order belongs to the customer identified by the <code>customerId</code>
 parameter and then updates the reservation id.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#setRewardPointReservationId-java.lang.String-int-int-">setRewardPointReservationId</a></span>(java.lang.String&nbsp;sessionId,
                           int&nbsp;orderId,
                           int&nbsp;reservationId)</code>
<div class="block">Verifies that the order belongs to the customer identified by the <code>sessionId</code>
 parameter and then updates the reservation id.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#updateInventory-java.lang.String-int-">updateInventory</a></span>(java.lang.String&nbsp;sessionId,
               int&nbsp;orderId)</code>
<div class="block">If the STOCK_LIMITED configuration variable is set to true, we subtract the products in stock
 by the product orders.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#updateInventoryWithOptions-java.lang.String-int-com.konakart.appif.CreateOrderOptionsIf-">updateInventoryWithOptions</a></span>(java.lang.String&nbsp;sessionId,
                          int&nbsp;orderId,
                          <a href="../../../com/konakart/appif/CreateOrderOptionsIf.html" title="interface in com.konakart.appif">CreateOrderOptionsIf</a>&nbsp;options)</code>
<div class="block">If the STOCK_LIMITED configuration variable is set to true, we subtract the products in stock
 by the product orders.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#updateOrder-int-int-boolean-java.lang.String-com.konakart.appif.OrderUpdateIf-">updateOrder</a></span>(int&nbsp;orderId,
           int&nbsp;status,
           boolean&nbsp;customerNotified,
           java.lang.String&nbsp;comments,
           <a href="../../../com/konakart/appif/OrderUpdateIf.html" title="interface in com.konakart.appif">OrderUpdateIf</a>&nbsp;updateOrder)</code>
<div class="block">The state of the order referenced by the orderId parameter is changed, and an
 orders_status_history record is added to the order to keep track of the change.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/blif/OrderMgrIf.html#updateOrder-java.lang.String-int-int-boolean-java.lang.String-com.konakart.appif.OrderUpdateIf-">updateOrder</a></span>(java.lang.String&nbsp;sessionId,
           int&nbsp;orderId,
           int&nbsp;status,
           boolean&nbsp;customerNotified,
           java.lang.String&nbsp;comments,
           <a href="../../../com/konakart/appif/OrderUpdateIf.html" title="interface in com.konakart.appif">OrderUpdateIf</a>&nbsp;updateOrder)</code>
<div class="block">The state of the order referenced by the orderId parameter is changed, and an
 orders_status_history record is added to the order to keep track of the change.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="saveOrder-java.lang.String-com.konakart.appif.OrderIf-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveOrder</h4>
<pre>int&nbsp;saveOrder(java.lang.String&nbsp;sessionId,
              <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order,
              int&nbsp;languageId)
       throws java.lang.Exception</pre>
<div class="block">A new order is created in the DB. The Order object parameter should have all addresses
 populated (customer, billing and delivery). The status of the newly created order is taken
 from the order itself. A check is made to determine whether the status exists within the
 orders_status table. To save an order we have to write into a few DB tables: orders,
 orders_products, orders_products_attributes, orders_total, orders_status_history.
 
 We do this in a single transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>order</code> - the order</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of the new order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="saveOrderWithOptions-java.lang.String-com.konakart.appif.OrderIf-int-com.konakart.appif.SaveOrderOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveOrderWithOptions</h4>
<pre>int&nbsp;saveOrderWithOptions(java.lang.String&nbsp;sessionId,
                         <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;orderToSave,
                         int&nbsp;languageId,
                         <a href="../../../com/konakart/appif/SaveOrderOptionsIf.html" title="interface in com.konakart.appif">SaveOrderOptionsIf</a>&nbsp;options)
                  throws java.lang.Exception</pre>
<div class="block">A new order is created in the DB. The Order object parameter should have all addresses
 populated (customer, billing and delivery). The status of the newly created order is taken
 from the order itself. A check is made to determine whether the status exists within the
 orders_status table. To save an order we have to write into a few DB tables: orders,
 orders_products, orders_products_attributes, orders_total, orders_status_history.
 
 We do this in a single transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderToSave</code> - the orderToSave</dd>
<dd><code>languageId</code> - the languageId</dd>
<dd><code>options</code> - Options object allowing you to specify the id of the order to be archived</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of the new order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="createOrder-java.lang.String-com.konakart.appif.BasketIf:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOrder</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;createOrder(java.lang.String&nbsp;sessionId,
                  <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
                  int&nbsp;languageId)
           throws java.lang.Exception</pre>
<div class="block">An order object is returned with all addresses populated with the default address of the
 customer referenced by the session Id. The products being ordered are retrieved from the
 basketItemArray. The returned object has not been saved in the DB.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>basketItemArray</code> - the basketItemArray</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="createOrderWithOptions-java.lang.String-com.konakart.appif.BasketIf:A-com.konakart.appif.CreateOrderOptionsIf-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOrderWithOptions</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;createOrderWithOptions(java.lang.String&nbsp;sessionId,
                             <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
                             <a href="../../../com/konakart/appif/CreateOrderOptionsIf.html" title="interface in com.konakart.appif">CreateOrderOptionsIf</a>&nbsp;options,
                             int&nbsp;languageId)
                      throws java.lang.Exception</pre>
<div class="block">An order object is returned with all addresses populated with the default address of the
 customer referenced by the session Id. The products being ordered are retrieved from the
 basketItemArray. The returned object has not been saved in the DB.<br>
 If the options parameter is set to null, the functionality is identical to createOrder(),
 otherwise the option parameters are used to determine the additional functionality.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>basketItemArray</code> - the basketItemArray</dd>
<dd><code>options</code> - the options</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="changeDeliveryAddress-java.lang.String-com.konakart.appif.OrderIf-com.konakart.appif.AddressIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeDeliveryAddress</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;changeDeliveryAddress(java.lang.String&nbsp;sessionId,
                            <a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order,
                            <a href="../../../com/konakart/appif/AddressIf.html" title="interface in com.konakart.appif">AddressIf</a>&nbsp;deliveryAddress)
                     throws java.lang.Exception</pre>
<div class="block">The current delivery address is substituted with the new one. If the country and zone have
 changed, then we need to work out the new tax for the order products</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>order</code> - the order</dd>
<dd><code>deliveryAddress</code> - the deliveryAddress</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>New Order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getTaxRateObjectsPerOrder-com.konakart.app.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaxRateObjectsPerOrder</h4>
<pre><a href="../../../com/konakart/app/TaxRate.html" title="class in com.konakart.app">TaxRate</a>[]&nbsp;getTaxRateObjectsPerOrder(<a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;order)
                             throws java.lang.Exception</pre>
<div class="block">Returns a list of TaxRate objects used by this order. A tax rate object is added to the list
 if it is used to add tax to a product or to the shipping.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>order</code> - the order</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an array of TaxRate objects used by this order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrdersPerCustomer-com.konakart.appif.DataDescriptorIf-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrdersPerCustomer</h4>
<pre><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a>&nbsp;getOrdersPerCustomer(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                            java.lang.String&nbsp;sessionId,
                            int&nbsp;languageId)
                     throws java.lang.Exception</pre>
<div class="block">Retrieve a number of orders for the customer referenced by the sessionId. The orders are
 always returned sorted by date (most recent orders first). The DataDescriptor is used to
 retrieve offset and limit information. If null, the offset defaults to 0 and a default limit
 is used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDesc</code> - the dataDesc</dd>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Orders object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrdersPerCustomerWithOptions-com.konakart.appif.DataDescriptorIf-java.lang.String-int-com.konakart.appif.FetchOrderOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrdersPerCustomerWithOptions</h4>
<pre><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a>&nbsp;getOrdersPerCustomerWithOptions(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescIn,
                                       java.lang.String&nbsp;sessionId,
                                       int&nbsp;languageId,
                                       <a href="../../../com/konakart/appif/FetchOrderOptionsIf.html" title="interface in com.konakart.appif">FetchOrderOptionsIf</a>&nbsp;options)
                                throws java.lang.Exception</pre>
<div class="block">Retrieve a number of orders for the customer referenced by the sessionId. The orders are
 always returned sorted by date (most recent orders first). The DataDescriptor is used to
 retrieve offset and limit information. If null, the offset defaults to 0 and a default limit
 is used.
 <p>
 Options object allows you to define whether the orders may be orders belonging to a customer
 within the hierarchy of the customer referenced by the sessionId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDescIn</code> - the dataDescIn</dd>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dd><code>options</code> - the options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Orders object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrder-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrder</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;getOrder(java.lang.String&nbsp;sessionId,
               int&nbsp;orderId,
               int&nbsp;languageId)
        throws java.lang.Exception</pre>
<div class="block">Retrieve an order for the customer referenced by the sessionId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrderWithOptions-java.lang.String-int-int-com.konakart.appif.FetchOrderOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderWithOptions</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;getOrderWithOptions(java.lang.String&nbsp;sessionId,
                          int&nbsp;orderId,
                          int&nbsp;languageId,
                          <a href="../../../com/konakart/appif/FetchOrderOptionsIf.html" title="interface in com.konakart.appif">FetchOrderOptionsIf</a>&nbsp;options)
                   throws java.lang.Exception</pre>
<div class="block">Retrieve an order for the customer referenced by the sessionId. Options object allows you to
 define whether the order may be an order belonging to a customer within the hierarchy of the
 customer referenced by the sessionId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dd><code>options</code> - the options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrderForOrderId-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderForOrderId</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;getOrderForOrderId(int&nbsp;orderId,
                         int&nbsp;languageId)
                  throws java.lang.Exception</pre>
<div class="block">Retrieve an order for an orderId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getStatusText-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatusText</h4>
<pre>java.lang.String&nbsp;getStatusText(int&nbsp;statusId,
                               int&nbsp;languageId)
                        throws java.lang.Exception</pre>
<div class="block">Returns the text of a status from the orders_status table</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statusId</code> - the statusId</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the text of the status. Null if not found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="updateOrder-java.lang.String-int-int-boolean-java.lang.String-com.konakart.appif.OrderUpdateIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOrder</h4>
<pre>void&nbsp;updateOrder(java.lang.String&nbsp;sessionId,
                 int&nbsp;orderId,
                 int&nbsp;status,
                 boolean&nbsp;customerNotified,
                 java.lang.String&nbsp;comments,
                 <a href="../../../com/konakart/appif/OrderUpdateIf.html" title="interface in com.konakart.appif">OrderUpdateIf</a>&nbsp;updateOrder)
          throws java.lang.Exception</pre>
<div class="block">The state of the order referenced by the orderId parameter is changed, and an
 orders_status_history record is added to the order to keep track of the change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - The session id of the logged in user</dd>
<dd><code>orderId</code> - The numeric id of the order</dd>
<dd><code>status</code> - The new numeric state of the order. Valid states are defined in the database.</dd>
<dd><code>customerNotified</code> - If you send an eMail to the customer to notify him of the state change then set
            this to true to register the fact that an eMail has been sent</dd>
<dd><code>comments</code> - These comments are written into the orders_status_history record</dd>
<dd><code>updateOrder</code> - contains order update data such as who updated the order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="updateOrder-int-int-boolean-java.lang.String-com.konakart.appif.OrderUpdateIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOrder</h4>
<pre>void&nbsp;updateOrder(int&nbsp;orderId,
                 int&nbsp;status,
                 boolean&nbsp;customerNotified,
                 java.lang.String&nbsp;comments,
                 <a href="../../../com/konakart/appif/OrderUpdateIf.html" title="interface in com.konakart.appif">OrderUpdateIf</a>&nbsp;updateOrder)
          throws java.lang.Exception</pre>
<div class="block">The state of the order referenced by the orderId parameter is changed, and an
 orders_status_history record is added to the order to keep track of the change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - The numeric id of the order</dd>
<dd><code>status</code> - The new numeric state of the order. Valid states are defined in the database.</dd>
<dd><code>customerNotified</code> - If you send an eMail to the customer to notify him of the state change then set
            this to true to register the fact that an eMail has been sent</dd>
<dd><code>comments</code> - These comments are written into the orders_status_history record</dd>
<dd><code>updateOrder</code> - contains order update data such as who updated the order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="changeOrderStatus-java.lang.String-int-int-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeOrderStatus</h4>
<pre>void&nbsp;changeOrderStatus(java.lang.String&nbsp;sessionId,
                       int&nbsp;orderId,
                       int&nbsp;status,
                       boolean&nbsp;customerNotified,
                       java.lang.String&nbsp;comments)
                throws java.lang.Exception</pre>
<div class="block">The state of the current order id changed and an orders_status_history record is added to the
 order to keep track of the change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>status</code> - the status</dd>
<dd><code>customerNotified</code> - Has the customer been notified</dd>
<dd><code>comments</code> - the comments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="changeOrderStatus-int-int-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeOrderStatus</h4>
<pre>void&nbsp;changeOrderStatus(int&nbsp;orderId,
                       int&nbsp;status,
                       boolean&nbsp;customerNotified,
                       java.lang.String&nbsp;comments)
                throws java.lang.Exception</pre>
<div class="block">The state of the current order id changed and an orders_status_history record is added to the
 order to keep track of the change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>status</code> - the status</dd>
<dd><code>customerNotified</code> - Has the customer been notified</dd>
<dd><code>comments</code> - the comments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="updateInventory-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateInventory</h4>
<pre>void&nbsp;updateInventory(java.lang.String&nbsp;sessionId,
                     int&nbsp;orderId)
              throws java.lang.Exception</pre>
<div class="block">If the STOCK_LIMITED configuration variable is set to true, we subtract the products in stock
 by the product orders. If we hit the STOCK_REORDER_LEVEL, then we instantiate a class defined
 by the STOCK_REORDER_CLASS and call it. If STOCK_ALLOW_CHECKOUT is set to true, when we hit
 zero items in stock we don't touch the status, otherwise we disable the product when the
 quantity reaches zero by setting the status to zero.
 
 In this method we also update any promotion data such as the number of times a coupon has
 been used or the number of times a customer has used a promotion.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="updateInventoryWithOptions-java.lang.String-int-com.konakart.appif.CreateOrderOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateInventoryWithOptions</h4>
<pre>void&nbsp;updateInventoryWithOptions(java.lang.String&nbsp;sessionId,
                                int&nbsp;orderId,
                                <a href="../../../com/konakart/appif/CreateOrderOptionsIf.html" title="interface in com.konakart.appif">CreateOrderOptionsIf</a>&nbsp;options)
                         throws java.lang.Exception</pre>
<div class="block">If the STOCK_LIMITED configuration variable is set to true, we subtract the products in stock
 by the product orders. If we hit the STOCK_REORDER_LEVEL, then we instantiate a class defined
 by the STOCK_REORDER_CLASS and call it. If STOCK_ALLOW_CHECKOUT is set to true, when we hit
 zero items in stock we don't touch the status, otherwise we disable the product when the
 quantity reaches zero by setting the status to zero.
 
 In this method we also update any promotion data such as the number of times a coupon has
 been used or the number of times a customer has used a promotion.
 
 If the options parameter is set to null, the functionality is identical to updateInventory(),
 otherwise the option parameters are used to determine the additional functionality.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>options</code> - the options</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getSecretKeyForOrderId-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecretKeyForOrderId</h4>
<pre>java.lang.String&nbsp;getSecretKeyForOrderId(int&nbsp;orderId)
                                 throws java.lang.Exception</pre>
<div class="block">Every time we send a notification to a payment gateway, we get a new secret key for the
 order, which is sent back to us in the reply. We use the secret key to look up the order.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the orderId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the secret key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrderIdFromSecretKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderIdFromSecretKey</h4>
<pre>int&nbsp;getOrderIdFromSecretKey(java.lang.String&nbsp;secretKey)
                     throws com.workingdogs.village.DataSetException,
                            org.apache.torque.TorqueException</pre>
<div class="block">The order id stored in the database and indexed by the secretKey, is returned</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>secretKey</code> - the secretKey</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The order Id that was stored in the database. A negative number is returned if no
         orderId can be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.workingdogs.village.DataSetException</code> - an unexpected exception due to data in Torque (the database layer)</dd>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
</dl>
</li>
</ul>
<a name="deleteOrderIdForSecretKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOrderIdForSecretKey</h4>
<pre>void&nbsp;deleteOrderIdForSecretKey(java.lang.String&nbsp;secretKey)
                        throws org.apache.torque.TorqueException</pre>
<div class="block">The order id stored in the database and indexed by the secretKey, is deleted</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>secretKey</code> - the secretKey</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
</dl>
</li>
</ul>
<a name="saveIpnHistory-java.lang.String-com.konakart.appif.IpnHistoryIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveIpnHistory</h4>
<pre>int&nbsp;saveIpnHistory(java.lang.String&nbsp;sessionId,
                   <a href="../../../com/konakart/appif/IpnHistoryIf.html" title="interface in com.konakart.appif">IpnHistoryIf</a>&nbsp;ipnHistory)
            throws java.lang.Exception</pre>
<div class="block">The IpnHistory object is saved in the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>ipnHistory</code> - the ipnHistory</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Id of newly created object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="createAndSaveOrder-java.lang.String-java.lang.String-com.konakart.appif.CustomerRegistrationIf-com.konakart.appif.BasketIf:A-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAndSaveOrder</h4>
<pre><a href="../../../com/konakart/app/Order.html" title="class in com.konakart.app">Order</a>&nbsp;createAndSaveOrder(java.lang.String&nbsp;emailAddr,
                         java.lang.String&nbsp;password,
                         <a href="../../../com/konakart/appif/CustomerRegistrationIf.html" title="interface in com.konakart.appif">CustomerRegistrationIf</a>&nbsp;custReg,
                         <a href="../../../com/konakart/appif/BasketIf.html" title="interface in com.konakart.appif">BasketIf</a>[]&nbsp;basketItemArray,
                         java.lang.String&nbsp;shippingModule,
                         java.lang.String&nbsp;paymentModule,
                         int&nbsp;languageId)
                  throws java.lang.Exception</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>emailAddr</code> - the emailAddr</dd>
<dd><code>password</code> - the password</dd>
<dd><code>custReg</code> - the custReg</dd>
<dd><code>basketItemArray</code> - the basketItemArray</dd>
<dd><code>shippingModule</code> - the shippingModule</dd>
<dd><code>paymentModule</code> - the paymentModule</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an Order object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="setCreditCardDetailsOnOrder-java.lang.String-int-com.konakart.appif.CreditCardIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCreditCardDetailsOnOrder</h4>
<pre>void&nbsp;setCreditCardDetailsOnOrder(java.lang.String&nbsp;sessionId,
                                 int&nbsp;orderId,
                                 <a href="../../../com/konakart/appif/CreditCardIf.html" title="interface in com.konakart.appif">CreditCardIf</a>&nbsp;card)
                          throws java.lang.Exception</pre>
<div class="block">The credit card details in the CreditCard object passed in as a parameter, are saved in the
 database for an existing order. Before being saved, this sensitive information is encrypted.<br>
 No update or insert is done for attributes of the CreditCard object that are set to null. The
 credit card details are mapped as follows to attributes in the order object:
 <ul>
 <li>e1 - Credit Card owner</li>
 <li>e2 - Credit Card number</li>
 <li>e3 - Credit Card expiration</li>
 <li>e4 - Credit Card CVV</li>
 <li>e5 - Credit Card Type</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>card</code> - the card</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="setRewardPointReservationId-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRewardPointReservationId</h4>
<pre>void&nbsp;setRewardPointReservationId(java.lang.String&nbsp;sessionId,
                                 int&nbsp;orderId,
                                 int&nbsp;reservationId)
                          throws java.lang.Exception</pre>
<div class="block">Verifies that the order belongs to the customer identified by the <code>sessionId</code>
 parameter and then updates the reservation id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>reservationId</code> - the reservationId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="setRewardPointReservationId-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRewardPointReservationId</h4>
<pre>void&nbsp;setRewardPointReservationId(int&nbsp;customerId,
                                 int&nbsp;orderId,
                                 int&nbsp;reservationId)
                          throws java.lang.Exception</pre>
<div class="block">Verifies that the order belongs to the customer identified by the <code>customerId</code>
 parameter and then updates the reservation id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerId</code> - the customerId</dd>
<dd><code>orderId</code> - the orderId</dd>
<dd><code>reservationId</code> - the reservationId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getIpnHistory-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIpnHistory</h4>
<pre><a href="../../../com/konakart/app/IpnHistory.html" title="class in com.konakart.app">IpnHistory</a>[]&nbsp;getIpnHistory(int&nbsp;orderId)
                    throws com.workingdogs.village.DataSetException,
                           org.apache.torque.TorqueException</pre>
<div class="block">Retrieve an array of IpnHistory objects for an order.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the orderId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an array of IpnHistory objects for the order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.workingdogs.village.DataSetException</code> - an unexpected exception due to data in Torque (the database layer)</dd>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
</dl>
</li>
</ul>
<a name="getIpnHistory-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIpnHistory</h4>
<pre><a href="../../../com/konakart/app/IpnHistory.html" title="class in com.konakart.app">IpnHistory</a>[]&nbsp;getIpnHistory(java.lang.String&nbsp;sessionId,
                           int&nbsp;orderId)
                    throws java.lang.Exception</pre>
<div class="block">Retrieve an array of IpnHistory objects for an order. The order must belong to the customer
 referenced by the sessionId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - The session id of the logged in user</dd>
<dd><code>orderId</code> - The numeric id of the order</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an array of IpnHistory objects for the order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getOrderStatus-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderStatus</h4>
<pre>int&nbsp;getOrderStatus(java.lang.String&nbsp;sessionId,
                   int&nbsp;orderId)
            throws java.lang.Exception</pre>
<div class="block">Get the order status for an order.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - The session id of the logged in user</dd>
<dd><code>orderId</code> - The numeric id of the order</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the order status. Returns -1 if the order doesn't exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="searchForOrdersPerCustomer-java.lang.String-com.konakart.appif.DataDescriptorIf-com.konakart.appif.OrderSearchIf-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchForOrdersPerCustomer</h4>
<pre><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a>&nbsp;searchForOrdersPerCustomer(java.lang.String&nbsp;sessionId,
                                  <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                                  <a href="../../../com/konakart/appif/OrderSearchIf.html" title="interface in com.konakart.appif">OrderSearchIf</a>&nbsp;orderSearch,
                                  int&nbsp;languageId)
                           throws java.lang.Exception</pre>
<div class="block">Return orders matching the search criteria.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - Valid session id of a logged in customer</dd>
<dd><code>dataDesc</code> - the dataDesc</dd>
<dd><code>orderSearch</code> - the orderSearch</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Orders object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="searchForOrdersPerCustomer-int-com.konakart.appif.DataDescriptorIf-com.konakart.appif.OrderSearchIf-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchForOrdersPerCustomer</h4>
<pre><a href="../../../com/konakart/app/Orders.html" title="class in com.konakart.app">Orders</a>&nbsp;searchForOrdersPerCustomer(int&nbsp;customerId,
                                  <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                                  <a href="../../../com/konakart/appif/OrderSearchIf.html" title="interface in com.konakart.appif">OrderSearchIf</a>&nbsp;orderSearch,
                                  int&nbsp;languageId)
                           throws java.lang.Exception</pre>
<div class="block">Return orders matching the search criteria.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerId</code> - the customerId</dd>
<dd><code>dataDesc</code> - the dataDesc</dd>
<dd><code>orderSearch</code> - the orderSearch</dd>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Orders object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getAllOrderStatuses-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllOrderStatuses</h4>
<pre><a href="../../../com/konakart/app/OrderStatus.html" title="class in com.konakart.app">OrderStatus</a>[]&nbsp;getAllOrderStatuses(int&nbsp;languageId)
                           throws java.lang.Exception</pre>
<div class="block">Returns an array of Order Status objects for a given language</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>languageId</code> - the languageId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an array of Order Status Objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="refreshConfigs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshConfigs</h4>
<pre>void&nbsp;refreshConfigs()
             throws java.lang.Exception</pre>
<div class="block">Refresh the configuration of the order manager</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="escapeOrder-com.konakart.appif.OrderIf-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>escapeOrder</h4>
<pre>void&nbsp;escapeOrder(<a href="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</a>&nbsp;order)</pre>
<div class="block">Escape the Strings in the Order object using the rules defined in the properties file by
 the property konakart.escape.chars . This method may be overridden in a custom manager to add
 exceptions for attributes that don't need to be escaped or to disable the escaping
 completely.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>order</code> - the order</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakart/blif/MultiStoreMgrIf.html" title="interface in com.konakart.blif"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/konakart/blif/OrderTotalMgrIf.html" title="interface in com.konakart.blif"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakart/blif/OrderMgrIf.html" target="_top">Frames</a></li>
<li><a href="OrderMgrIf.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2018 DS Data Systems UK Ltd.</small></p>
</body>
</html>
