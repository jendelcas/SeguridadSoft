<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_212) on Thu Dec 23 11:31:50 GMT 2021 -->
<title>BasePaymentModule (KonaKart Server Engine API Documentation)</title>
<meta name="date" content="2021-12-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BasePaymentModule (KonaKart Server Engine API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":42,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/konakart/bl/modules/payment/BasePaymentModule.html" target="_top">Frames</a></li>
<li><a href="BasePaymentModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.konakart.bl.modules.payment</div>
<h2 title="Class BasePaymentModule" class="title">Class BasePaymentModule</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">com.konakart.bl.modules.BaseModule</a></li>
<li>
<ul class="inheritance">
<li>com.konakart.bl.modules.payment.BasePaymentModule</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/konakart/bl/modules/payment/banktransfer/BankTransfer.html" title="class in com.konakart.bl.modules.payment.banktransfer">BankTransfer</a>, <a href="../../../../../com/konakart/bl/modules/payment/barclaycardsmartpayapi/BarclaycardSmartPayApi.html" title="class in com.konakart.bl.modules.payment.barclaycardsmartpayapi">BarclaycardSmartPayApi</a>, <a href="../../../../../com/konakart/bl/modules/payment/barclaycardsmartpayhosted/BarclaycardSmartPayHosted.html" title="class in com.konakart.bl.modules.payment.barclaycardsmartpayhosted">BarclaycardSmartPayHosted</a>, <a href="../../../../../com/konakart/bl/modules/payment/bluepay/Bluepay.html" title="class in com.konakart.bl.modules.payment.bluepay">Bluepay</a>, <a href="../../../../../com/konakart/bl/modules/payment/caledon/Caledon.html" title="class in com.konakart.bl.modules.payment.caledon">Caledon</a>, <a href="../../../../../com/konakart/bl/modules/payment/cod/Cod.html" title="class in com.konakart.bl.modules.payment.cod">Cod</a>, <a href="../../../../../com/konakart/bl/modules/payment/commideavanguard/CommideaVanguard.html" title="class in com.konakart.bl.modules.payment.commideavanguard">CommideaVanguard</a>, <a href="../../../../../com/konakart/bl/modules/payment/customercard/CustomerCard.html" title="class in com.konakart.bl.modules.payment.customercard">CustomerCard</a>, <a href="../../../../../com/konakart/bl/modules/payment/cybersourcesa/CyberSourceSA.html" title="class in com.konakart.bl.modules.payment.cybersourcesa">CyberSourceSA</a>, <a href="../../../../../com/konakart/bl/modules/payment/elink/Elink.html" title="class in com.konakart.bl.modules.payment.elink">Elink</a>, <a href="../../../../../com/konakart/bl/modules/payment/eway_au/Eway_au.html" title="class in com.konakart.bl.modules.payment.eway_au">Eway_au</a>, <a href="../../../../../com/konakart/bl/modules/payment/globalcollect/GlobalCollect.html" title="class in com.konakart.bl.modules.payment.globalcollect">GlobalCollect</a>, <a href="../../../../../com/konakart/bl/modules/payment/moneybookers/MoneyBookers.html" title="class in com.konakart.bl.modules.payment.moneybookers">MoneyBookers</a>, <a href="../../../../../com/konakart/bl/modules/payment/netpayintl/Netpayintl.html" title="class in com.konakart.bl.modules.payment.netpayintl">Netpayintl</a>, <a href="../../../../../com/konakart/bl/modules/payment/payflowpro/PayflowPro.html" title="class in com.konakart.bl.modules.payment.payflowpro">PayflowPro</a>, <a href="../../../../../com/konakart/bl/modules/payment/payjunction/Payjunction.html" title="class in com.konakart.bl.modules.payment.payjunction">Payjunction</a>, <a href="../../../../../com/konakart/bl/modules/payment/paypal/Paypal.html" title="class in com.konakart.bl.modules.payment.paypal">Paypal</a>, <a href="../../../../../com/konakart/bl/modules/payment/usaepay/Usaepay.html" title="class in com.konakart.bl.modules.payment.usaepay">Usaepay</a>, <a href="../../../../../com/konakart/bl/modules/payment/worldpay/Worldpay.html" title="class in com.konakart.bl.modules.payment.worldpay">Worldpay</a>, <a href="../../../../../com/konakart/bl/modules/payment/worldpayxmlredirect/WorldPayXMLRedirect.html" title="class in com.konakart.bl.modules.payment.worldpayxmlredirect">WorldPayXMLRedirect</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BasePaymentModule</span>
extends <a href="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</a></pre>
<div class="block">Base class for Payment Modules.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#log">log</a></span></code>
<div class="block">The <code>Log</code> instance for this application.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.konakart.bl.modules.BaseModule">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.konakart.bl.modules.<a href="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</a></h3>
<code><a href="../../../../../com/konakart/bl/modules/BaseModule.html#basePackage">basePackage</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#debugStackTraceExclusions">debugStackTraceExclusions</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#BasePaymentModule--">BasePaymentModule</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#addParameters-com.konakart.appif.PaymentDetailsIf-java.util.List-">addParameters</a></span>(<a href="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</a>&nbsp;pd,
             java.util.List&lt;<a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>&gt;&nbsp;newParameters)</code>
<div class="block">Add more parameters to the PaymentDetails object.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#checkZone-com.konakart.bl.modules.payment.PaymentInfo-int-">checkZone</a></span>(<a href="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment">PaymentInfo</a>&nbsp;info,
         int&nbsp;geoZoneId)</code>
<div class="block">Ensures that the geoZoneId is within one of the Geo Zones contained in the PaymentInfo
 object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getCustomerSessionIdByCustomerId-int-">getCustomerSessionIdByCustomerId</a></span>(int&nbsp;customerId)</code>
<div class="block">Look up the sessionId for the specified customerId.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getFirstAndLastNamesFromAddress-int-">getFirstAndLastNamesFromAddress</a></span>(int&nbsp;addrId)</code>
<div class="block">Look up the first name and last name using the AddressId.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getIPAddress--">getIPAddress</a></span>()</code>
<div class="block">Return the IP address of the current machine</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getNewCriteria-boolean-">getNewCriteria</a></span>(boolean&nbsp;allStores)</code>
<div class="block">Gets a new KKCriteria object with the option of it being for all stores when in multi-store
 single db mode.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getPaymentDetailsCustom-java.lang.String-com.konakart.appif.NameValueIf:A-">getPaymentDetailsCustom</a></span>(java.lang.String&nbsp;sessionId,
                       <a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>[]&nbsp;parameters)</code>
<div class="block">Method used to return any custom information required from the payment module.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#hashParameters-com.konakart.appif.PaymentDetailsIf-java.util.List-">hashParameters</a></span>(<a href="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</a>&nbsp;pd,
              java.util.List&lt;<a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>&gt;&nbsp;ccParmList)</code>
<div class="block">This method is optionally called from the sub class to load up the parameters into a
 HashTable for efficient subsequent processing</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#isGeoZoneMappedToCountry-int-int-">isGeoZoneMappedToCountry</a></span>(int&nbsp;geoZoneId,
                        int&nbsp;countryId)</code>
<div class="block">In some cases no zones may be defined for a country but a geo zone may be defined to map to
 all zones of that country.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#isMultiStoreShareCustomers--">isMultiStoreShareCustomers</a></span>()</code>
<div class="block">Returns true if we need to share customers in multi-store single db mode</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitNameIntoFirstAndLastNames-java.lang.String-">splitNameIntoFirstAndLastNames</a></span>(java.lang.String&nbsp;name)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">Replaced by a more robust solution where the address is looked up
             <a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet-java.lang.String-"><code>splitStreetAddressIntoNumberAndStreet(String streetAddress)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet-java.lang.String-">splitStreetAddressIntoNumberAndStreet</a></span>(java.lang.String&nbsp;streetAddress)</code>
<div class="block">Split the street address into house number and street using simple logic...</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.konakart.bl.modules.BaseModule">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.konakart.bl.modules.<a href="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</a></h3>
<code><a href="../../../../../com/konakart/bl/modules/BaseModule.html#getBasketMgr--">getBasketMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getCatMgr--">getCatMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigMgr--">getConfigMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfiguration-java.lang.String-">getConfiguration</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValue-java.lang.String-">getConfigurationValue</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsBigDecimalWithDefault-java.lang.String-java.math.BigDecimal-">getConfigurationValueAsBigDecimalWithDefault</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsBool-java.lang.String-boolean-">getConfigurationValueAsBool</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsIntWithDefault-java.lang.String-int-">getConfigurationValueAsIntWithDefault</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getCurrMgr--">getCurrMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getCustMgr--">getCustMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getCustTagMgr--">getCustTagMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getDebugStackTraceExclusions--">getDebugStackTraceExclusions</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getEmailMgr--">getEmailMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getEng--">getEng</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getLangMgr--">getLangMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getModuleClassName--">getModuleClassName</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getMultiStoreMgr--">getMultiStoreMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getOrderMgr--">getOrderMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getOrderTotalMgr--">getOrderTotalMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getPaymentMgr--">getPaymentMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getProdMgr--">getProdMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getPromMgr--">getPromMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getRandomText-int-">getRandomText</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getRandomText-java.lang.String-int-">getRandomText</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getResourceBundle-java.lang.String-java.lang.String-java.util.HashMap-java.util.Locale-">getResourceBundle</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getRewardPointMgr--">getRewardPointMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getSecMgr--">getSecMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getShippingMgr--">getShippingMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getSolrMgr--">getSolrMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getStoreId--">getStoreId</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getStoreMgr--">getStoreMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getTaxMgr--">getTaxMgr</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#getZoneCodeForZoneName-java.lang.String-">getZoneCodeForZoneName</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#init-com.konakart.appif.KKEngIf-">init</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#isAvailable-com.konakart.app.KKEng-java.lang.String-">isAvailable</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#isAvailable-java.lang.String-">isAvailable</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#isMultiStoreShareCustomersOrProducts--">isMultiStoreShareCustomersOrProducts</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#setDebugStackTraceExclusions-java.lang.String-">setDebugStackTraceExclusions</a>, <a href="../../../../../com/konakart/bl/modules/BaseModule.html#updateStaticVariablesNow-long-">updateStaticVariablesNow</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected&nbsp;org.apache.commons.logging.Log log</pre>
<div class="block">The <code>Log</code> instance for this application.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BasePaymentModule--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BasePaymentModule</h4>
<pre>public&nbsp;BasePaymentModule()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkZone-com.konakart.bl.modules.payment.PaymentInfo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkZone</h4>
<pre>protected&nbsp;void&nbsp;checkZone(<a href="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment">PaymentInfo</a>&nbsp;info,
                         int&nbsp;geoZoneId)
                  throws com.konakart.app.KKException</pre>
<div class="block">Ensures that the geoZoneId is within one of the Geo Zones contained in the PaymentInfo
 object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - the info</dd>
<dd><code>geoZoneId</code> - the geoZoneId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="isGeoZoneMappedToCountry-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isGeoZoneMappedToCountry</h4>
<pre>protected&nbsp;boolean&nbsp;isGeoZoneMappedToCountry(int&nbsp;geoZoneId,
                                           int&nbsp;countryId)</pre>
<div class="block">In some cases no zones may be defined for a country but a geo zone may be defined to map to
 all zones of that country. On these occasions the DeliveryGeoZoneArray in the ShippingInfo
 object is null so the checkZone method never returns true.
 <p>
 This method does a search in the zones_to_geo_zones table for any entries matching the
 geoZoneId, countryId and zoneId of 0 which is the id that is set when the mapping is for all
 zones of the country.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>geoZoneId</code> - the geoZoneId</dd>
<dd><code>countryId</code> - the countryId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if there is a mapping</dd>
</dl>
</li>
</ul>
<a name="getCustomerSessionIdByCustomerId-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomerSessionIdByCustomerId</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getCustomerSessionIdByCustomerId(int&nbsp;customerId)</pre>
<div class="block">Look up the sessionId for the specified customerId. You may need to add an index on the
 customer_id column for this to work efficiently if you have many records in the session
 table. You should also run maintenance jobs on the session table to remove old sessions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerId</code> - the customerId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the sessionId if found or null</dd>
</dl>
</li>
</ul>
<a name="isMultiStoreShareCustomers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMultiStoreShareCustomers</h4>
<pre>protected&nbsp;boolean&nbsp;isMultiStoreShareCustomers()
                                      throws com.konakart.app.KKException</pre>
<div class="block">Returns true if we need to share customers in multi-store single db mode</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the multiStoreShareCustomers</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="getNewCriteria-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewCriteria</h4>
<pre>protected&nbsp;<a href="../../../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;getNewCriteria(boolean&nbsp;allStores)</pre>
<div class="block">Gets a new KKCriteria object with the option of it being for all stores when in multi-store
 single db mode.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../com/konakart/bl/modules/BaseModule.html#getNewCriteria-boolean-">getNewCriteria</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allStores</code> - the allStores</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a new KKCriteria object</dd>
</dl>
</li>
</ul>
<a name="getFirstAndLastNamesFromAddress-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstAndLastNamesFromAddress</h4>
<pre>protected&nbsp;java.lang.String[]&nbsp;getFirstAndLastNamesFromAddress(int&nbsp;addrId)
                                                      throws java.lang.Exception</pre>
<div class="block">Look up the first name and last name using the AddressId. Return them as two Strings in an
 array. If there is no such address null is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>addrId</code> - the id of the address to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String array where the first element is the first name and the second element is
         the surname. Returns null if the address cannot be found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="splitNameIntoFirstAndLastNames-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitNameIntoFirstAndLastNames</h4>
<pre>@Deprecated
protected&nbsp;java.lang.String[]&nbsp;splitNameIntoFirstAndLastNames(java.lang.String&nbsp;name)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">Replaced by a more robust solution where the address is looked up
             <a href="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet-java.lang.String-"><code>splitStreetAddressIntoNumberAndStreet(String streetAddress)</code></a></span></div>
<div class="block">Split the name into first name and surname using simple logic... The surname is assumed to be
 the last whitespace-separated item; everything before that is used as the first name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name as a String to convert.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String array where the first element is the first name and the second element is
         the surname.</dd>
</dl>
</li>
</ul>
<a name="splitStreetAddressIntoNumberAndStreet-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitStreetAddressIntoNumberAndStreet</h4>
<pre>protected&nbsp;java.lang.String[]&nbsp;splitStreetAddressIntoNumberAndStreet(java.lang.String&nbsp;streetAddress)</pre>
<div class="block">Split the street address into house number and street using simple logic... The house number
 is assumed to be the number at the start of the String if present. The rest is assumed to be
 the street.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streetAddress</code> - the streetAddress as a String to convert.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String array where the first element is the house number (if found) and the second
         element is the street address without the house number if that was found.</dd>
</dl>
</li>
</ul>
<a name="hashParameters-com.konakart.appif.PaymentDetailsIf-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashParameters</h4>
<pre>protected&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;hashParameters(<a href="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</a>&nbsp;pd,
                                                                              java.util.List&lt;<a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>&gt;&nbsp;ccParmList)</pre>
<div class="block">This method is optionally called from the sub class to load up the parameters into a
 HashTable for efficient subsequent processing</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pd</code> - PaymentDetails object</dd>
<dd><code>ccParmList</code> - name value pair list of CC parameters</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a hash map containing the parameters for rapid lookup</dd>
</dl>
</li>
</ul>
<a name="addParameters-com.konakart.appif.PaymentDetailsIf-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addParameters</h4>
<pre>protected&nbsp;void&nbsp;addParameters(<a href="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</a>&nbsp;pd,
                             java.util.List&lt;<a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>&gt;&nbsp;newParameters)</pre>
<div class="block">Add more parameters to the PaymentDetails object. Normally this method would be on the
 PaymentDetails class but it's placed here instead because of the automatic code generation
 that occurs on the PaymentDetails class for web services, JSON and RMI etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pd</code> - the PaymentDetails object</dd>
<dd><code>newParameters</code> - The parameters to set.</dd>
</dl>
</li>
</ul>
<a name="getIPAddress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIPAddress</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getIPAddress()
                                 throws com.konakart.app.KKException</pre>
<div class="block">Return the IP address of the current machine</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the IP address of the current machine as a String</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected exception from the KonaKart engine</dd>
</dl>
</li>
</ul>
<a name="getPaymentDetailsCustom-java.lang.String-com.konakart.appif.NameValueIf:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPaymentDetailsCustom</h4>
<pre>public&nbsp;<a href="../../../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</a>&nbsp;getPaymentDetailsCustom(java.lang.String&nbsp;sessionId,
                                              <a href="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</a>[]&nbsp;parameters)
                                       throws java.lang.Exception</pre>
<div class="block">Method used to return any custom information required from the payment module. When used,
 this method will typically be overridden in the module.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>parameters</code> - the parameters</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns information in a PaymentDetails object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/konakart/bl/modules/payment/BasePaymentModule.html" target="_top">Frames</a></li>
<li><a href="BasePaymentModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2018 DS Data Systems UK Ltd.</small></p>
</body>
</html>
