<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_212) on Thu Dec 23 11:31:27 GMT 2021 -->
<title>BookableProductMgr (KonaKart Server Engine API Documentation)</title>
<meta name="date" content="2021-12-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BookableProductMgr (KonaKart Server Engine API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":9,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakart/bl/BillingMgr.html" title="class in com.konakart.bl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakart/bl/BookableProductMgr.html" target="_top">Frames</a></li>
<li><a href="BookableProductMgr.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.konakart.bl</div>
<h2 title="Class BookableProductMgr" class="title">Class BookableProductMgr</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">com.konakart.bl.BaseMgr</a></li>
<li>
<ul class="inheritance">
<li>com.konakart.bl.BookableProductMgr</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BookableProductMgr</span>
extends <a href="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</a>
implements <a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></pre>
<div class="block">The manager for bookable products</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a></span></code>
<div class="block">protected class used to store a start and end time</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#BOOKING_COUNT_RETRIES_DEFAULT">BOOKING_COUNT_RETRIES_DEFAULT</a></span></code>
<div class="block">Default for number of retries when updating booking count</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#bookingCountMaxRetries">bookingCountMaxRetries</a></span></code>
<div class="block">Number of times to retry the booking count update SQL</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#bookingCountMutex">bookingCountMutex</a></span></code>
<div class="block">Mutex for updating booking count</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#bookProdMgrMutex">bookProdMgrMutex</a></span></code>
<div class="block">Mutex for the bookable product manager</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#LIMIT">LIMIT</a></span></code>
<div class="block">number of bookings to fetch at a time in a loop</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#log">log</a></span></code>
<div class="block">the log</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.konakart.bl.BaseMgr">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.konakart.bl.<a href="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</a></h3>
<code><a href="../../../com/konakart/bl/BaseMgr.html#templateBaseDir">templateBaseDir</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#BookableProductMgr-com.konakart.appif.KKEngIf-">BookableProductMgr</a></span>(<a href="../../../com/konakart/appif/KKEngIf.html" title="interface in com.konakart.appif">KKEngIf</a>&nbsp;eng)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#doTimeSlotsOverlap-com.konakart.bl.BookableProductMgr.TimeSlot-com.konakart.bl.BookableProductMgr.TimeSlot-">doTimeSlotsOverlap</a></span>(<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&nbsp;ts1,
                  <a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&nbsp;ts2)</code>
<div class="block">Returns true if the two time slots overlap</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/appif/BookableProductIf.html" title="interface in com.konakart.appif">BookableProductIf</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookableProduct-int-com.konakart.appif.BookableProductOptionsIf-">getBookableProduct</a></span>(int&nbsp;productId,
                  <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Gets a Bookable Product object for a product id</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Product.html" title="class in com.konakart.app">Product</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookableProductConflict-java.lang.String-com.konakart.appif.ProductIf-com.konakart.appif.BookableProductOptionsIf-">getBookableProductConflict</a></span>(java.lang.String&nbsp;sessionId,
                          <a href="../../../com/konakart/appif/ProductIf.html" title="interface in com.konakart.appif">ProductIf</a>&nbsp;bookableProd,
                          <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">This method checks to see whether the bookable product passed in as a parameter conflicts
 with any bookable products that the customer identified by the sessionId has already signed
 up for.<br>
 If no conflicts are found, null is returned.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookingCountMaxRetries--">getBookingCountMaxRetries</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookingsPerCustomer-int-com.konakart.appif.DataDescriptorIf-">getBookingsPerCustomer</a></span>(int&nbsp;customerId,
                      <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescriptor)</code>
<div class="block">Get an array of bookings for a logged in customer.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookingsPerCustomer-java.lang.String-com.konakart.appif.DataDescriptorIf-com.konakart.appif.BookableProductOptionsIf-">getBookingsPerCustomer</a></span>(java.lang.String&nbsp;sessionId,
                      <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                      <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Get an array of bookings for a logged in customer.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getBookingsPerProduct-com.konakart.appif.DataDescriptorIf-int-com.konakart.appif.BookableProductOptionsIf-">getBookingsPerProduct</a></span>(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescriptor,
                     int&nbsp;productId,
                     <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Get an array of bookings for a product.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getCount-com.konakart.db.KKCriteria-">getCount</a></span>(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</code>
<div class="block">This method is mainly used for paging.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getTimeInMins-java.lang.String-">getTimeInMins</a></span>(java.lang.String&nbsp;timeStr)</code>
<div class="block">Calculates a time in minutes from a time representation in the format 00:13 or 12:45 etc.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected java.util.ArrayList&lt;<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getTimeSlots-java.lang.String-">getTimeSlots</a></span>(java.lang.String&nbsp;times)</code>
<div class="block">Returns an array of times slots from times encoded in a string in the format 10:45;11:30
 15:00;16:00 where the delimiter between start and end is ";" and between times is a space</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected java.util.ArrayList&lt;<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#getWeeklySchedule-com.konakart.appif.ProductIf-">getWeeklySchedule</a></span>(<a href="../../../com/konakart/appif/ProductIf.html" title="interface in com.konakart.appif">ProductIf</a>&nbsp;bookableProd)</code>
<div class="block">Returns an array 7 elements long where each element is for a day of the week.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#insertBooking-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">insertBooking</a></span>(<a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
             <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Inserts a Booking object into the database.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#insertBooking-java.lang.String-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">insertBooking</a></span>(java.lang.String&nbsp;sessionId,
             <a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
             <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Inserts a Booking object into the database.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#manageDataDescriptor-com.konakart.appif.DataDescriptorIf-com.konakart.db.KKCriteria-">manageDataDescriptor</a></span>(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                    <a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</code>
<div class="block">Add constraints and order by criteria</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#refreshConfigs--">refreshConfigs</a></span>()</code>
<div class="block">Refresh the configuration of the bookable product manager</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#setBookableProductCriteriaWithStandardAttributes-com.konakart.db.KKCriteria-">setBookableProductCriteriaWithStandardAttributes</a></span>(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</code>
<div class="block">Set the standard attributes</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#setBookingCountMaxRetries-int-">setBookingCountMaxRetries</a></span>(int&nbsp;bookingCountMaxRetries)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#setBookingCriteriaWithStandardAttributes-com.konakart.db.KKCriteria-">setBookingCriteriaWithStandardAttributes</a></span>(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</code>
<div class="block">Set the standard attributes</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/konakart/bl/BookableProductMgr.html#validateBooking-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">validateBooking</a></span>(<a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
               <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)</code>
<div class="block">Validate the booking</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.konakart.bl.BaseMgr">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.konakart.bl.<a href="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</a></h3>
<code><a href="../../../com/konakart/bl/BaseMgr.html#acquireLock-java.lang.String-">acquireLock</a>, <a href="../../../com/konakart/bl/BaseMgr.html#addInsertAttr-org.apache.torque.util.Criteria-java.lang.String-int-">addInsertAttr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#addInsertAttr-org.apache.torque.util.Criteria-java.lang.String-java.lang.Object-">addInsertAttr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#addStringRuleConstraint-com.konakart.db.KKCriteria-java.lang.String-int-org.apache.torque.Column-">addStringRuleConstraint</a>, <a href="../../../com/konakart/bl/BaseMgr.html#addStringRuleConstraint-com.konakart.db.KKCriteria-java.lang.String-int-java.lang.String-">addStringRuleConstraint</a>, <a href="../../../com/konakart/bl/BaseMgr.html#checkRequired-java.lang.Object-java.lang.String-java.lang.String-">checkRequired</a>, <a href="../../../com/konakart/bl/BaseMgr.html#escapeHTML-java.lang.String-">escapeHTML</a>, <a href="../../../com/konakart/bl/BaseMgr.html#executeQuery-java.lang.String-">executeQuery</a>, <a href="../../../com/konakart/bl/BaseMgr.html#executeQuery-java.lang.String-int-int-java.lang.String-boolean-">executeQuery</a>, <a href="../../../com/konakart/bl/BaseMgr.html#executeQuery-java.lang.String-int-int-java.lang.String-boolean-boolean-java.lang.String-">executeQuery</a>, <a href="../../../com/konakart/bl/BaseMgr.html#executeQuery-java.lang.String-int-int-java.lang.String-boolean-boolean-java.lang.String-java.util.List-">executeQuery</a>, <a href="../../../com/konakart/bl/BaseMgr.html#executeQuery-java.lang.String-java.util.List-">executeQuery</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getAdminEngMgr--">getAdminEngMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getBasketMgr--">getBasketMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getBillingMgr--">getBillingMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getBookableProductMgr--">getBookableProductMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCacheMgr--">getCacheMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCatMgr--">getCatMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getConfigMgr--">getConfigMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCookieMgr--">getCookieMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCurrMgr--">getCurrMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCustMgr--">getCustMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCustomerIdFromSession-java.lang.String-">getCustomerIdFromSession</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCustomerStatsMgr--">getCustomerStatsMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getCustomerTagMgr--">getCustomerTagMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getEmailMgr--">getEmailMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getEng--">getEng</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getEventMgr--">getEventMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getExportMgr--">getExportMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getHTMLEscaper--">getHTMLEscaper</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getKonaKartConfig-java.lang.String-boolean-">getKonaKartConfig</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getKonaKartConfig-java.lang.String-int-">getKonaKartConfig</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getKonaKartConfig-java.lang.String-long-">getKonaKartConfig</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getLangMgr--">getLangMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getManuMgr--">getManuMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getMiscItemMgr--">getMiscItemMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getMiscPriceMgr--">getMiscPriceMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getMode--">getMode</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getModeString--">getModeString</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getMqMgr--">getMqMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getMultiStoreMgr--">getMultiStoreMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getNewCriteria--">getNewCriteria</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getNewCriteria-boolean-">getNewCriteria</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getOrderIntegrationMgr--">getOrderIntegrationMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getOrderMgr--">getOrderMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getOrderTotalMgr--">getOrderTotalMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getPaymentMgr--">getPaymentMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getProdMgr--">getProdMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getProductsToCategoresCriteria--">getProductsToCategoresCriteria</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getPromMgr--">getPromMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getPunchOutMgr--">getPunchOutMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getRewardPointMgr--">getRewardPointMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getSecMgr--">getSecMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getShippingMgr--">getShippingMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getSolrMgr--">getSolrMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getStoreId--">getStoreId</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getStoreMgr--">getStoreMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getStoreTime--">getStoreTime</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getSuggestionMgr--">getSuggestionMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getTaxMgr--">getTaxMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getTemplate-org.apache.velocity.app.VelocityEngine-java.lang.String-java.lang.String-">getTemplate</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getTemplateRoot-java.lang.String-">getTemplateRoot</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getVelocityContextMgr--">getVelocityContextMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#getWishListMgr--">getWishListMgr</a>, <a href="../../../com/konakart/bl/BaseMgr.html#init-com.konakart.appif.KKEngIf-org.apache.commons.logging.Log-">init</a>, <a href="../../../com/konakart/bl/BaseMgr.html#insertKKEvent-int-int-int-">insertKKEvent</a>, <a href="../../../com/konakart/bl/BaseMgr.html#insertKKEvent-int-int-java.lang.String-">insertKKEvent</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isBusiness--">isBusiness</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isBusinessOrEnterprise--">isBusinessOrEnterprise</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isClassPresent-java.lang.String-">isClassPresent</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isCommunity--">isCommunity</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isDeadlockException-java.sql.SQLException-">isDeadlockException</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isEnterprise--">isEnterprise</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareCategories--">isMultiStoreShareCategories</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareCustomers--">isMultiStoreShareCustomers</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareCustomersOrProducts--">isMultiStoreShareCustomersOrProducts</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiStoreSharedDb--">isMultiStoreSharedDb</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareProducts--">isMultiStoreShareProducts</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isMultiVendor--">isMultiVendor</a>, <a href="../../../com/konakart/bl/BaseMgr.html#isUnix--">isUnix</a>, <a href="../../../com/konakart/bl/BaseMgr.html#manageThrowable-java.lang.Throwable-">manageThrowable</a>, <a href="../../../com/konakart/bl/BaseMgr.html#releaseLock-java.lang.String-">releaseLock</a>, <a href="../../../com/konakart/bl/BaseMgr.html#updateStaticVariablesNow-long-">updateStaticVariablesNow</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static&nbsp;org.apache.commons.logging.Log log</pre>
<div class="block">the log</div>
</li>
</ul>
<a name="LIMIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LIMIT</h4>
<pre>protected static final&nbsp;int LIMIT</pre>
<div class="block">number of bookings to fetch at a time in a loop</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.konakart.bl.BookableProductMgr.LIMIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="bookingCountMutex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bookingCountMutex</h4>
<pre>protected static&nbsp;java.lang.String bookingCountMutex</pre>
<div class="block">Mutex for updating booking count</div>
</li>
</ul>
<a name="BOOKING_COUNT_RETRIES_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BOOKING_COUNT_RETRIES_DEFAULT</h4>
<pre>protected static final&nbsp;int BOOKING_COUNT_RETRIES_DEFAULT</pre>
<div class="block">Default for number of retries when updating booking count</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.konakart.bl.BookableProductMgr.BOOKING_COUNT_RETRIES_DEFAULT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="bookingCountMaxRetries">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bookingCountMaxRetries</h4>
<pre>protected static&nbsp;int bookingCountMaxRetries</pre>
<div class="block">Number of times to retry the booking count update SQL</div>
</li>
</ul>
<a name="bookProdMgrMutex">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bookProdMgrMutex</h4>
<pre>protected static&nbsp;java.lang.String bookProdMgrMutex</pre>
<div class="block">Mutex for the bookable product manager</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BookableProductMgr-com.konakart.appif.KKEngIf-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BookableProductMgr</h4>
<pre>public&nbsp;BookableProductMgr(<a href="../../../com/konakart/appif/KKEngIf.html" title="interface in com.konakart.appif">KKEngIf</a>&nbsp;eng)
                   throws java.lang.Exception</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eng</code> - the eng</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBookingsPerProduct-com.konakart.appif.DataDescriptorIf-int-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingsPerProduct</h4>
<pre>public&nbsp;<a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a>&nbsp;getBookingsPerProduct(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescriptor,
                                      int&nbsp;productId,
                                      <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                               throws com.workingdogs.village.DataSetException,
                                      org.apache.torque.TorqueException,
                                      com.konakart.app.KKException</pre>
<div class="block">Get an array of bookings for a product. The DatDescriptor object may be used to add
 constraints on the custom fields and to add order by criteria. The following OrderBy criteria
 are implemented:
 <ul>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_ID</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#getBookingsPerProduct-com.konakart.appif.DataDescriptorIf-int-com.konakart.appif.BookableProductOptionsIf-">getBookingsPerProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDescriptor</code> - the dataDescriptor</dd>
<dd><code>productId</code> - the productId</dd>
<dd><code>options</code> - Not used at the moment. May be left null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a Bookings object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.workingdogs.village.DataSetException</code> - an unexpected exception due to data in Torque (the database layer)</dd>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="getBookingsPerCustomer-java.lang.String-com.konakart.appif.DataDescriptorIf-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingsPerCustomer</h4>
<pre>public&nbsp;<a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a>&nbsp;getBookingsPerCustomer(java.lang.String&nbsp;sessionId,
                                       <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                                       <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                                throws java.lang.Exception</pre>
<div class="block">Get an array of bookings for a logged in customer. The DatDescriptor object may be used to
 add constraints on the custom fields and to add order by criteria. The following OrderBy
 criteria are implemented:
 <ul>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_ID</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#getBookingsPerCustomer-java.lang.String-com.konakart.appif.DataDescriptorIf-com.konakart.appif.BookableProductOptionsIf-">getBookingsPerCustomer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDesc</code> - the dataDesc</dd>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>options</code> - Not used at the moment. May be left null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a Bookings object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getBookingsPerCustomer-int-com.konakart.appif.DataDescriptorIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingsPerCustomer</h4>
<pre>protected&nbsp;<a href="../../../com/konakart/app/Bookings.html" title="class in com.konakart.app">Bookings</a>&nbsp;getBookingsPerCustomer(int&nbsp;customerId,
                                          <a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDescriptor)
                                   throws java.lang.Exception</pre>
<div class="block">Get an array of bookings for a logged in customer. The DatDescriptor object may be used to
 add constraints on the custom fields and to add order by criteria. The following OrderBy
 criteria are implemented:
 <ul>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_DATE_ADDED_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_FIRST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_DESCENDING</li>
 <li>DataDescConstants.ORDER_BY_LAST_NAME_ASCENDING</li>
 <li>DataDescConstants.ORDER_BY_ID</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDescriptor</code> - the dataDescriptor</dd>
<dd><code>customerId</code> - the customerId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a Bookings object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="setBookingCriteriaWithStandardAttributes-com.konakart.db.KKCriteria-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBookingCriteriaWithStandardAttributes</h4>
<pre>protected&nbsp;void&nbsp;setBookingCriteriaWithStandardAttributes(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</pre>
<div class="block">Set the standard attributes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the c</dd>
</dl>
</li>
</ul>
<a name="manageDataDescriptor-com.konakart.appif.DataDescriptorIf-com.konakart.db.KKCriteria-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>manageDataDescriptor</h4>
<pre>protected&nbsp;void&nbsp;manageDataDescriptor(<a href="../../../com/konakart/appif/DataDescriptorIf.html" title="interface in com.konakart.appif">DataDescriptorIf</a>&nbsp;dataDesc,
                                    <a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</pre>
<div class="block">Add constraints and order by criteria</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataDesc</code> - the dataDesc</dd>
<dd><code>c</code> - the c</dd>
</dl>
</li>
</ul>
<a name="getCount-com.konakart.db.KKCriteria-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCount</h4>
<pre>protected&nbsp;int&nbsp;getCount(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)
                throws org.apache.torque.TorqueException,
                       com.workingdogs.village.DataSetException</pre>
<div class="block">This method is mainly used for paging.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the c</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of records present in the database matching the given criteria</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
<dd><code>com.workingdogs.village.DataSetException</code> - an unexpected exception due to data in Torque (the database layer)</dd>
</dl>
</li>
</ul>
<a name="insertBooking-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertBooking</h4>
<pre>public&nbsp;int&nbsp;insertBooking(<a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
                         <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                  throws java.lang.Exception</pre>
<div class="block">Inserts a Booking object into the database. The object must be associated with an existing
 product through the product id attribute.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#insertBooking-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">insertBooking</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>booking</code> - A booking object</dd>
<dd><code>options</code> - Options allowing an exception to be thrown for exceeding the maximum number of
            bookings</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the id of the inserted object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="insertBooking-java.lang.String-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertBooking</h4>
<pre>public&nbsp;int&nbsp;insertBooking(java.lang.String&nbsp;sessionId,
                         <a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
                         <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                  throws java.lang.Exception</pre>
<div class="block">Inserts a Booking object into the database. The customer must be logged in with a valid
 session id. The id of the logged in customer is written into the customerId attribute of the
 Booking object before it is saved. The object must be associated with an existing product
 through the product id attribute.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#insertBooking-java.lang.String-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">insertBooking</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>booking</code> - A booking object</dd>
<dd><code>options</code> - Options allowing an exception to be thrown for exceeding the maximum number of
            bookings</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the id of the inserted object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="validateBooking-com.konakart.appif.BookingIf-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateBooking</h4>
<pre>protected&nbsp;void&nbsp;validateBooking(<a href="../../../com/konakart/appif/BookingIf.html" title="interface in com.konakart.appif">BookingIf</a>&nbsp;booking,
                               <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                        throws java.lang.Exception</pre>
<div class="block">Validate the booking</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>booking</code> - the booking</dd>
<dd><code>options</code> - the options</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getBookableProduct-int-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookableProduct</h4>
<pre>public&nbsp;<a href="../../../com/konakart/appif/BookableProductIf.html" title="interface in com.konakart.appif">BookableProductIf</a>&nbsp;getBookableProduct(int&nbsp;productId,
                                            <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                                     throws com.workingdogs.village.DataSetException,
                                            org.apache.torque.TorqueException,
                                            com.konakart.app.KKException</pre>
<div class="block">Gets a Bookable Product object for a product id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#getBookableProduct-int-com.konakart.appif.BookableProductOptionsIf-">getBookableProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productId</code> - the productId</dd>
<dd><code>options</code> - Not used at the moment. May be left null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a Bookable Product object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.workingdogs.village.DataSetException</code> - an unexpected exception due to data in Torque (the database layer)</dd>
<dd><code>org.apache.torque.TorqueException</code> - an unexpected exception in Torque (the database layer)</dd>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="setBookableProductCriteriaWithStandardAttributes-com.konakart.db.KKCriteria-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBookableProductCriteriaWithStandardAttributes</h4>
<pre>protected&nbsp;void&nbsp;setBookableProductCriteriaWithStandardAttributes(<a href="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</a>&nbsp;c)</pre>
<div class="block">Set the standard attributes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the c</dd>
</dl>
</li>
</ul>
<a name="getBookableProductConflict-java.lang.String-com.konakart.appif.ProductIf-com.konakart.appif.BookableProductOptionsIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookableProductConflict</h4>
<pre>public&nbsp;<a href="../../../com/konakart/app/Product.html" title="class in com.konakart.app">Product</a>[]&nbsp;getBookableProductConflict(java.lang.String&nbsp;sessionId,
                                            <a href="../../../com/konakart/appif/ProductIf.html" title="interface in com.konakart.appif">ProductIf</a>&nbsp;bookableProd,
                                            <a href="../../../com/konakart/appif/BookableProductOptionsIf.html" title="interface in com.konakart.appif">BookableProductOptionsIf</a>&nbsp;options)
                                     throws java.lang.Exception</pre>
<div class="block">This method checks to see whether the bookable product passed in as a parameter conflicts
 with any bookable products that the customer identified by the sessionId has already signed
 up for.<br>
 If no conflicts are found, null is returned. If a conflict is found then an array of
 conflicting bookable products is returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#getBookableProductConflict-java.lang.String-com.konakart.appif.ProductIf-com.konakart.appif.BookableProductOptionsIf-">getBookableProductConflict</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the sessionId</dd>
<dd><code>bookableProd</code> - the bookableProd</dd>
<dd><code>options</code> - Not used at the moment. May be left null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns null for no conflict. Otherwise an array of conflicting products is returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="doTimeSlotsOverlap-com.konakart.bl.BookableProductMgr.TimeSlot-com.konakart.bl.BookableProductMgr.TimeSlot-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doTimeSlotsOverlap</h4>
<pre>protected&nbsp;boolean&nbsp;doTimeSlotsOverlap(<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&nbsp;ts1,
                                     <a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&nbsp;ts2)</pre>
<div class="block">Returns true if the two time slots overlap</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ts1</code> - the ts1</dd>
<dd><code>ts2</code> - the ts2</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if the two time slots overlap</dd>
</dl>
</li>
</ul>
<a name="getWeeklySchedule-com.konakart.appif.ProductIf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWeeklySchedule</h4>
<pre>protected&nbsp;java.util.ArrayList&lt;<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&gt;[]&nbsp;getWeeklySchedule(<a href="../../../com/konakart/appif/ProductIf.html" title="interface in com.konakart.appif">ProductIf</a>&nbsp;bookableProd)
                                                                        throws com.konakart.app.KKException</pre>
<div class="block">Returns an array 7 elements long where each element is for a day of the week. Each element
 may contain an arrayList containing time slots for that day.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookableProd</code> - the bookableProd</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns the weekly schedule (see above)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="getTimeSlots-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeSlots</h4>
<pre>protected&nbsp;java.util.ArrayList&lt;<a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl">BookableProductMgr.TimeSlot</a>&gt;&nbsp;getTimeSlots(java.lang.String&nbsp;times)
                                                                 throws com.konakart.app.KKException</pre>
<div class="block">Returns an array of times slots from times encoded in a string in the format 10:45;11:30
 15:00;16:00 where the delimiter between start and end is ";" and between times is a space</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>times</code> - the times</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a list of TimeSlot objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="getTimeInMins-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeInMins</h4>
<pre>protected&nbsp;int&nbsp;getTimeInMins(java.lang.String&nbsp;timeStr)
                     throws com.konakart.app.KKException</pre>
<div class="block">Calculates a time in minutes from a time representation in the format 00:13 or 12:45 etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStr</code> - the timeStr</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the time in minutes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.konakart.app.KKException</code> - an unexpected KKException exception</dd>
</dl>
</li>
</ul>
<a name="refreshConfigs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshConfigs</h4>
<pre>public&nbsp;void&nbsp;refreshConfigs()
                    throws java.lang.Exception</pre>
<div class="block">Refresh the configuration of the bookable product manager</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/konakart/blif/BookableProductMgrIf.html#refreshConfigs--">refreshConfigs</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/konakart/blif/BookableProductMgrIf.html" title="interface in com.konakart.blif">BookableProductMgrIf</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - an unexpected exception</dd>
</dl>
</li>
</ul>
<a name="getBookingCountMaxRetries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingCountMaxRetries</h4>
<pre>public static&nbsp;int&nbsp;getBookingCountMaxRetries()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the bookingCountMaxRetries</dd>
</dl>
</li>
</ul>
<a name="setBookingCountMaxRetries-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setBookingCountMaxRetries</h4>
<pre>public static&nbsp;void&nbsp;setBookingCountMaxRetries(int&nbsp;bookingCountMaxRetries)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookingCountMaxRetries</code> - the bookingCountMaxRetries to set</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakart/bl/BillingMgr.html" title="class in com.konakart.bl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/konakart/bl/BookableProductMgr.TimeSlot.html" title="class in com.konakart.bl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakart/bl/BookableProductMgr.html" target="_top">Frames</a></li>
<li><a href="BookableProductMgr.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2018 DS Data Systems UK Ltd.</small></p>
</body>
</html>
